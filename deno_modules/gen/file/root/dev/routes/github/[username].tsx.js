import { h } from "preact";
export const handler = {
    async GET(_, ctx) {
        const { username } = ctx.params;
        const resp = await fetch(`https://api.github.com/users/${username}`);
        if (resp.status === 404) {
            return ctx.render(null);
        }
        const user = await resp.json();
        return ctx.render(user);
    }
};
export default function Page({ data }) {
    if (!data) {
        return h("h1", null, "User not found");
    }
    return (h("div", null,
        h("img", { src: data.avatar_url, width: 64, height: 64 }),
        h("h1", null, data.name),
        h("p", null, data.login)));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiW3VzZXJuYW1lXS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlt1c2VybmFtZV0udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxDQUFDLEVBQUUsTUFBTSxRQUFRLENBQUE7QUFTMUIsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUEwQjtJQUM1QyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHO1FBQ2QsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUE7UUFDL0IsTUFBTSxJQUFJLEdBQUcsTUFBTSxLQUFLLENBQUMsZ0NBQWdDLFFBQVEsRUFBRSxDQUFDLENBQUE7UUFDcEUsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLEdBQUcsRUFBRTtZQUN2QixPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7U0FDeEI7UUFDRCxNQUFNLElBQUksR0FBUyxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUNwQyxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7SUFDekIsQ0FBQztDQUNGLENBQUE7QUFFRCxNQUFNLENBQUMsT0FBTyxVQUFVLElBQUksQ0FBQyxFQUFFLElBQUksRUFBMEI7SUFDM0QsSUFBSSxDQUFDLElBQUksRUFBRTtRQUNULE9BQU8sK0JBQXVCLENBQUE7S0FDL0I7SUFFRCxPQUFPLENBQ0w7UUFDRSxXQUFLLEdBQUcsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsR0FBSTtRQUNwRCxjQUFLLElBQUksQ0FBQyxJQUFJLENBQU07UUFDcEIsYUFBSSxJQUFJLENBQUMsS0FBSyxDQUFLLENBQ2YsQ0FDUCxDQUFBO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGggKi9cclxuaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIlxyXG5pbXBvcnQgeyBIYW5kbGVycywgUGFnZVByb3BzIH0gZnJvbSBcIiRmcmVzaC9zZXJ2ZXIudHNcIlxyXG5cclxuaW50ZXJmYWNlIFVzZXIge1xyXG4gIGxvZ2luOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBhdmF0YXJfdXJsOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZXI6IEhhbmRsZXJzPFVzZXIgfCBudWxsPiA9IHtcclxuICBhc3luYyBHRVQoXywgY3R4KSB7XHJcbiAgICBjb25zdCB7IHVzZXJuYW1lIH0gPSBjdHgucGFyYW1zXHJcbiAgICBjb25zdCByZXNwID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlcnMvJHt1c2VybmFtZX1gKVxyXG4gICAgaWYgKHJlc3Auc3RhdHVzID09PSA0MDQpIHtcclxuICAgICAgcmV0dXJuIGN0eC5yZW5kZXIobnVsbClcclxuICAgIH1cclxuICAgIGNvbnN0IHVzZXI6IFVzZXIgPSBhd2FpdCByZXNwLmpzb24oKVxyXG4gICAgcmV0dXJuIGN0eC5yZW5kZXIodXNlcilcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhZ2UoeyBkYXRhIH06IFBhZ2VQcm9wczxVc2VyIHwgbnVsbD4pIHtcclxuICBpZiAoIWRhdGEpIHtcclxuICAgIHJldHVybiA8aDE+VXNlciBub3QgZm91bmQ8L2gxPlxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXY+XHJcbiAgICAgIDxpbWcgc3JjPXtkYXRhLmF2YXRhcl91cmx9IHdpZHRoPXs2NH0gaGVpZ2h0PXs2NH0gLz5cclxuICAgICAgPGgxPntkYXRhLm5hbWV9PC9oMT5cclxuICAgICAgPHA+e2RhdGEubG9naW59PC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59XHJcbiJdfQ==